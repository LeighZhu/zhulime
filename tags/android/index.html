<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>android | Leigh:// 斯路</title>
  <meta name="author" content="Leigh Zhu">
  
  <meta name="description" content="Personal Blog">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Leigh:// 斯路"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Leigh:// 斯路" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
  
</head>


<body>
	<div id="stick">
		<header id="header"><hgroup>
	<h1><a href="/">Leigh:// 斯路</a></h1>
	<h2>行于斯路…</h2>
</hgroup>
<nav id="header-nav" class="clearfix">
	<ul>
		
			<li><a href="/">Home</a></li>
		
			<li><a href="/archives">Archives</a></li>
		
	</ul>
</nav>
<nav id="ext-nav" class="clearfix">
	<ul>
		
	</ul>
</nav></header>
		<footer id="footer"><p class="copy">
	
	&copy; 2013 Leigh Zhu
	
</p></footer>
	</div>
	<div id="wrapper" class="clearfix">
		<div id="content">
<h2 class="archive-title tag">android</h2>


  
    <article class="post">
	
	<div class="post-content">
		<header>
			
  
    <h1 class="title"><a href="/2012/07/30/flash-custom-rom-to-lt18i/">SE LT18i/Arc S刷机完全参考</a></h1>
  

			
				<time datetime="2012-07-30T03:25:12.000Z">2012 Jul 30</time>
			
		</header>
		<div class="entry">
			
				<p>上周，Zoe 买了新爪机，SE 的 LT18i／Arc S 也就是传说中的 anzu 。
然后原生系统是 2.3 的，而且带了 N 多 索爱的应用，不用说，刷机之～
由于我是 android 刷机小白，于是去看了很多所谓教程，gfan.com 上很多很多教程，但是都属于用这个工具，用那个工具的，我又很不喜欢用这种工具，他在做啥都不知道，有什么好玩的。
于是，自己摸索。根据大学本科所学的，手机无非就是个提供操作系统的嵌入式系统加上一个信号处理的 DSP 控制芯片 及相关周边组成的玩意儿。
android 机器刷机，无非就这几个步骤：
1. 解锁 bootloader。
2. 刷入内核，系统等。
每一步都有很多方法，第一步解锁，现在比较流行的是 fasrboot 去解锁，一般命令就是类似于</p>
<pre><code>$ fastboot oem unlock
`&lt;/pre&gt;
那么，我们首先需要一个 fastboot 可执行文件。其实国内论坛又把这个搞得很神秘，其实，去装一个 android sdk，无论是 Windows 版本还是 Linux 版本也好，都一样，然后，运行之，下载 最顶上的 Android SDK tool 和 Android SDK platform tools 基本就 OK 了，下载完成后，去 android sdk 目录下的 platform tools 目录中，就可以发现那里已经躺着一个了 :)

有了 fastboot 后，我们还需要让我们的 设备 可以顺利地以 fastboot 模式与电脑相连接。
那么，对于 Windows 来说，我们需要一个一个驱动配置文件 android_winusb.inf 。可以去 [这里](http:<span class="comment">//wiki.cyanogenmod.com/wiki/Howto:_Install_the_Android_SDK/Windows "这里") 下载适配 cyanogenmod 所支持的机型的驱动文件，然后，将你的手机以 fastboot 模式 连接电脑（具体手机如何进入 fastboot 模式，每个手机都不一样，请自行寻找一下相应型号手机的开启方法），然后，Windows 会恐吓你说驱动无法安装，别急，手动定位到刚刚下载的驱动配置文件，即可完成安装。装完后似乎在设备管理器里会有一个 android adb 啥的设备，这就 OK 了。</span>
对于 Linux 来说，android 和各种 Linux 发行版都是同一个种族，就没有 Windows 那么麻烦了。对于 Ubuntu 来说：
&lt;pre <span class="keyword">class</span>=<span class="string">"prettyprint"</span>&gt;`
$ sudo gedit /etc/udev/rules.d/<span class="number">51</span>-android.rules
`&lt;/pre&gt;
新建一个配置文件，然后加入
&lt;pre <span class="keyword">class</span>=<span class="string">"prettyprint"</span>&gt;`
# fastboot protocol on maguro/toro (Galaxy Nexus)
SUBSYSTEM==<span class="string">"usb"</span>, ATTR{idVendor}==<span class="string">"18d1"</span>, ATTR{idProduct}==<span class="string">"4e30"</span>, MODE=<span class="string">"0600"</span>, OWNER=<span class="string">"&lt;username&gt;"</span>
`&lt;/pre&gt;
这个配置是 Galaxy Nexus 的。请将其中的 <span class="number">18</span>d1 和 <span class="number">4e30</span> 换成你的设备的 id。 可以运行 lsusb 命令查看你设备的 usb id 。
OK，除此之外，我们还需要让其生效
&lt;pre <span class="keyword">class</span>=<span class="string">"prettyprint"</span>&gt;`
$ service udev restart
`&lt;/pre&gt;
如果此命令对你无效，重启一下吧～

好了，基本环境就部署完成了。接下来是刷机过程。
对于 LT18i 来说，解锁需要索爱的 key。看了下这个 
[索爱解锁指导](unlockbootloader.sonyericsson.com/instructions <span class="string">"索爱官方解锁指导"</span>)
根据 IMEI 索爱会给你一个 KEY。记下那个 KEY。

&lt;pre <span class="keyword">class</span>=<span class="string">"prettyprint"</span>&gt;`
$ fastboot -i <span class="number">0x0fce</span> getvar version
`&lt;/pre&gt;
如果有返回信息，就可以确定 fastboot 模式是否成功连接
之后，

&lt;pre <span class="keyword">class</span>=<span class="string">"prettyprint"</span>&gt;`
$ fastboot -i <span class="number">0x0fce</span> oem unlock <span class="number">0</span>xKEY
`&lt;/pre&gt;
其中的 KEY 就是刚才得到的 KEY。

这样， bootloader 就解锁了

接下来下载刷机包，例如我是刷了 [FXP130](http:<span class="comment">//ul.to/folder/fwnp9j "FXP130") 包中带了一个 boot.img 。</span>
刷入 boot.img 可以使用如下方法：
 &lt;pre <span class="keyword">class</span>=<span class="string">"prettyprint"</span>&gt;`
$ fastboot flash boot boot.img
`&lt;/pre&gt;
这样可以获得一个 CWM 的 recovery。
拷贝 ROM 包到 SD 卡。
注意：索爱的 LT18i 比较好玩，直接刷 CM 的 ROM 会失败，首先恶魔需要将那个要所包中的 update-script 文件修改一下，文件的所在路径如下：
FXP130-cm-<span class="number">9</span>-<span class="number">20120720</span>-UNOFFICIAL-anzu/META-INF/com/google/android
将开头的 assert 开始，到第一个 <span class="package"><span class="keyword">package</span> 的这段代码删除。
这段代码如下。
&lt;<span class="title">pre</span> <span class="title">class</span>="<span class="title">prettyprint</span>"&gt;`
<span class="title">assert</span>(<span class="title">getprop</span>("<span class="title">ro</span>.<span class="title">product</span>.<span class="title">device</span>") == "<span class="title">LT18i</span>" || <span class="title">getprop</span>("<span class="title">ro</span>.<span class="title">build</span>.<span class="title">product</span>") == "<span class="title">LT18i</span>" || 
       <span class="title">getprop</span>("<span class="title">ro</span>.<span class="title">product</span>.<span class="title">device</span>") == "<span class="title">LT18a</span>" || <span class="title">getprop</span>("<span class="title">ro</span>.<span class="title">build</span>.<span class="title">product</span>") == "<span class="title">LT18a</span>" || 
       <span class="title">getprop</span>("<span class="title">ro</span>.<span class="title">product</span>.<span class="title">device</span>") == "<span class="title">LT15i</span>" || <span class="title">getprop</span>("<span class="title">ro</span>.<span class="title">build</span>.<span class="title">product</span>") == "<span class="title">LT15i</span>" || 
       <span class="title">getprop</span>("<span class="title">ro</span>.<span class="title">product</span>.<span class="title">device</span>") == "<span class="title">LT15a</span>" || <span class="title">getprop</span>("<span class="title">ro</span>.<span class="title">build</span>.<span class="title">product</span>") == "<span class="title">LT15a</span>" || 
       <span class="title">getprop</span>("<span class="title">ro</span>.<span class="title">product</span>.<span class="title">device</span>") == "<span class="title">anzu</span>" || <span class="title">getprop</span>("<span class="title">ro</span>.<span class="title">build</span>.<span class="title">product</span>") == "<span class="title">anzu</span>");
</code></pre>
<p>删除完后，重新打包～ 放入 SD 卡根目录。</p>
<p>关机，进入手机的 recovery 模式。
wipe data
wipe cache
advance/ wipe dalvik 
advance/ wipe battery
这就是论坛说他们说的 4 wipe。
然后，install from sd card 再选择 choose zip from sdcard
再选择我们刚在复制进去的 ROM 包。
确认，即可刷入。
至此，刷机完成，重启即可进入新系统。</p>

			
		</div>
		<footer>
			
				
					<div class="alignleft">
						<a href="/2012/07/30/flash-custom-rom-to-lt18i/#more" class="more-link">Read More</a>
					</div>
				
				

			
		</footer>
	</div>
</article>


  

  <nav id="pagination" class="clearfix">
  
  
</nav>
</div>
		<aside id="widget" class="clearfix">		
			
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/Blog-fix/">Blog-fix</a><small>11</small></li>
  
    <li><a href="/categories/Codex/">Codex</a><small>8</small></li>
  
    <li><a href="/categories/Blog-fix/Codex/">Codex</a><small>1</small></li>
  
    <li><a href="/categories/Life/">Life</a><small>78</small></li>
  
    <li><a href="/categories/Tutor/">Tutor</a><small>18</small></li>
  
    <li><a href="/categories/Codex/Tutor/">Tutor</a><small>1</small></li>
  
    <li><a href="/categories/Life/Uncategorized/">Uncategorized</a><small>4</small></li>
  
    <li><a href="/categories/Uncategorized/">Uncategorized</a><small>15</small></li>
  
    <li><a href="/categories/Vision/">Vision</a><small>40</small></li>
  
  </ul>
</div>

		
			
<div class="widget tagcloud">
  <h3 class="title">标签云</h3>
  <div class="entry">
    <a href="/tags/GTD/" style="font-size: 16.25px;">GTD</a><a href="/tags/PKM/" style="font-size: 15.50px;">PKM</a><a href="/tags/QQ/" style="font-size: 15.25px;">QQ</a><a href="/tags/cctv/" style="font-size: 15.00px;">cctv</a><a href="/tags/javascript/" style="font-size: 16.00px;">javascript</a><a href="/tags/meme/" style="font-size: 14.75px;">meme</a><a href="/tags/twitter/" style="font-size: 17.50px;">twitter</a><a href="/tags/世博/" style="font-size: 11.50px;">世博</a><a href="/tags/分享/" style="font-size: 13.00px;">分享</a><a href="/tags/前端/" style="font-size: 11.25px;">前端</a><a href="/tags/博客维护/" style="font-size: 19.00px;">博客维护</a><a href="/tags/参观/" style="font-size: 11.75px;">参观</a><a href="/tags/团队/" style="font-size: 12.50px;">团队</a><a href="/tags/图书/" style="font-size: 13.75px;">图书</a><a href="/tags/备份/" style="font-size: 13.50px;">备份</a><a href="/tags/学习/" style="font-size: 17.75px;">学习</a><a href="/tags/思路/" style="font-size: 14.00px;">思路</a><a href="/tags/总结/" style="font-size: 16.50px;">总结</a><a href="/tags/感想/" style="font-size: 19.50px;">感想</a><a href="/tags/手机/" style="font-size: 15.75px;">手机</a><a href="/tags/斯路/" style="font-size: 12.25px;">斯路</a><a href="/tags/旅游/" style="font-size: 12.00px;">旅游</a><a href="/tags/旅途/" style="font-size: 13.25px;">旅途</a><a href="/tags/日记/" style="font-size: 19.75px;">日记</a><a href="/tags/日食/" style="font-size: 10.50px;">日食</a><a href="/tags/春节/" style="font-size: 18.25px;">春节</a><a href="/tags/格莱美/" style="font-size: 10.00px;">格莱美</a><a href="/tags/榜单/" style="font-size: 10.25px;">榜单</a><a href="/tags/气场/" style="font-size: 12.75px;">气场</a><a href="/tags/网络/" style="font-size: 14.50px;">网络</a><a href="/tags/聚会/" style="font-size: 11.00px;">聚会</a><a href="/tags/节日/" style="font-size: 18.75px;">节日</a><a href="/tags/观测/" style="font-size: 10.75px;">观测</a><a href="/tags/视频/" style="font-size: 18.00px;">视频</a><a href="/tags/计划/" style="font-size: 17.25px;">计划</a><a href="/tags/译文/" style="font-size: 17.00px;">译文</a><a href="/tags/读后感/" style="font-size: 14.25px;">读后感</a><a href="/tags/资源/" style="font-size: 16.75px;">资源</a><a href="/tags/软件/" style="font-size: 18.50px;">软件</a><a href="/tags/音乐/" style="font-size: 19.25px;">音乐</a>
  </div>
</div>

		
			<div class="widget blogroll">
  <h3 class="title">友情链接</h3>	
	<ul>
		
			<li><a href="http://zhuli.me">Leigh</a></li>
		
			<li><a href="http://zoechan.me">Zoe</a></li>
		
			<li><a href="http://test">Test</a></li>
		
	</ul>
</div>
		
</aside>
	</div>
	<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>



<script type="text/javascript">
var duoshuoQuery = {short_name:"zhulime"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>